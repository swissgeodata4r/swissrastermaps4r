<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Helps Import, Extract and Plot Swissmapraster Data   • swissmapraster</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Helps Import, Extract and Plot Swissmapraster Data  ">
<meta property="og:description" content="This Package is meant as a Bridge between Swissmapraster
    Data (SMR) and R. It is the hope of the package developer(s) that this
    Package will prove to be necessary for a short time period, just so long
    till SwissMapRaster Data is freely and openly available to the public, 
    along with an appropriate R-interface. Unfortunately, since the SMR
    Data is still behind a paywall, this package does not provide access to 
    this data. It simply provides an interface for cases where the data is
    already available to the user.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">swissmapraster</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<div id="whats-the-idea-behind-swissmapraster-4-r" class="section level2">
<h2 class="hasAnchor">
<a href="#whats-the-idea-behind-swissmapraster-4-r" class="anchor"></a>What’s the idea behind swissmapraster 4 R?</h2>
<p>This Package is meant as a Bridge between Swissmapraster Data (SMR) and R. It is the hope of the package developer(s) that this Package will prove to be necessary for a short time period, just so long till SwissMapRaster Data is freely and openly available to the public, along with an appropriate R-interface. Unfortunately, since the SMR Data is still behind a paywall, this package does not provide access to this data. It simply provides an interface for cases where the data is already available to the user.</p>
</div>
<div id="does-this-package-provide-access-to-map-data" class="section level2">
<h2 class="hasAnchor">
<a href="#does-this-package-provide-access-to-map-data" class="anchor"></a>Does this package provide access to map data?</h2>
<p>NO! This package does not give access to any raster maps, by swisstopo or otherwise. Access to this data has to be acquire elsewhere: Either through <a href="https://shop.swisstopo.admin.ch">swisstopo</a> directly or via third parties such as <a href="https://www.geodata4edu.ch">geodata4edu</a>. In fact, in the current version of the package the data has to be stored locally on your own hard drive (<em>urgh!</em>). Our hope is however, that this will change soon so that the data can be hosted on a network folder or on a GIS Server.</p>
</div>
<div id="how-is-the-package-used" class="section level2">
<h2 class="hasAnchor">
<a href="#how-is-the-package-used" class="anchor"></a>How is the package used?</h2>
<div id="aquire-raster-data" class="section level3">
<h3 class="hasAnchor">
<a href="#aquire-raster-data" class="anchor"></a>Aquire raster data</h3>
<p>First of all, the raster maps need to be acquired and stored in a folder. The package is developed with a focus on <a href="https://shop.swisstopo.admin.ch/de/products/maps/national/digital/">SwissMapRaster</a>, but probably other raster maps will work as well. Currently only <a href="https://epsg.io/2056">CRS 2056</a> is implemented. We might also include <a href="https://epsg.io/21781">CRS 21781</a> at some point but that’s probably it.</p>
<p>The raster maps should be sorted in a folder per scale. Currently, the names of the folders must be as follows: “SMR25” for 1:25’000 maps, “SMR50” for 1:50’000 maps and so on. Rasters should not overlap or have gaps.</p>
</div>
<div id="download-package" class="section level3">
<h3 class="hasAnchor">
<a href="#download-package" class="anchor"></a>Download package</h3>
<p>Download and load the package</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># devtools::install_git("https://github.engineering.zhaw.ch/rata/swissmapraster.git",upgrade = F)</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(swissmapraster)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a></code></pre></div>
</div>
<div id="scan-folder" class="section level3">
<h3 class="hasAnchor">
<a href="#scan-folder" class="anchor"></a>Scan Folder</h3>
<p>Next, run the command <code>init_fdir()</code> pointing to the location (parent folder) of this maps. This command creates a “File Directory” in the package environment by scanning all folders recursively and analyzing the content. All files ending with “tif” are checked for extent, number of layers and resolution. All the mentioned attributes of each raster file, along with the file path and the extent as a geometry, are stoerd in the variable <code>fdir</code> of the package environment.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">init_fdir</span>(<span class="st">"C:/Users/rata/Geodata/01_Switzerland/01_Maps"</span>)</a></code></pre></div>
</div>
<div id="show-available-raster-extents" class="section level3">
<h3 class="hasAnchor">
<a href="#show-available-raster-extents" class="anchor"></a>Show available raster extents</h3>
<p>In order to view the available extents, call the function <code><a href="reference/show_extents.html">show_extents()</a></code>. The default method is <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="reference/show_extents.html">show_extents</a></span>()</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>Use <code>method = "tmap"</code> to show the extents in combination with other spatial data. For example, the <a href="https://opendata.swiss/en/dataset/swissboundaries3d-landesgrenzen">boundary of switzerland</a> is included in the package. Load this dataset with <code><a href="https://www.rdocumentation.org/packages/utils/topics/data">data("landesgebiet")</a></code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"landesgebiet"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tmap)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">tm_shape</span>(landesgebiet) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">   </span><span class="kw">tm_polygons</span>() <span class="op">+</span><span class="st"> </span><span class="kw"><a href="reference/show_extents.html">show_extents</a></span>(<span class="st">"tmap"</span>)</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"gemeinden_top_centroid"</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw">tm_shape</span>(landesgebiet) <span class="op">+</span><span class="st"> </span><span class="kw">tm_polygons</span>() <span class="op">+</span><span class="st"> </span><span class="kw">tm_shape</span>(gemeinden_top_centroid) <span class="op">+</span><span class="st"> </span><span class="kw">tm_dots</span>(<span class="dt">size =</span> <span class="st">"EINWOHNERZ"</span>)</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">schweiz_<span class="dv">1000</span> &lt;-<span class="st"> </span><span class="kw">get_raster</span>(<span class="dt">features =</span> gemeinden_top_centroid,<span class="dt">scale_level =</span> <span class="dv">1000</span>,<span class="dt">x_add =</span> <span class="dv">500</span>, <span class="dt">y_add =</span> <span class="dv">500</span>,<span class="dt">method =</span> <span class="st">"bbox"</span>,<span class="dt">epsg =</span> <span class="dv">2056</span>)</a></code></pre></div>
<pre><code>## Warning in .f(file = .l[[c(1L, 1L)]], res1 = .l[[c(2L, 1L)]], res2
## = .l[[c(3L, : Rasters in Extent do not have matching resolutions. Using
## disaggregate in order to enable merging</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">tm_shape</span>(schweiz_<span class="dv">1000</span>) <span class="op">+</span><span class="st"> </span><span class="kw">tm_rgb</span>() <span class="op">+</span><span class="st"> </span><span class="kw">tm_shape</span>(gemeinden_top_centroid) <span class="op">+</span><span class="st"> </span><span class="kw">tm_dots</span>(<span class="dt">size =</span> <span class="st">"EINWOHNERZ"</span>)</a></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-5-2.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> (arbitrarily chosen)</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Nils Ratnaweera <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Nils Ratnaweera.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
